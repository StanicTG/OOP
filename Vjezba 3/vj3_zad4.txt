#include <iostream>
#include <vector>
#include <string>
using namespace std;

struct Student {
    string ime;
    string jmbag;
    int godina_studija;
    int ects;
    double prosjek;
};

void filter_students(Student studenti[], size_t n,
                     void (*akcija)(Student&),
                     bool (*filter)(Student&)) {
    for (size_t i = 0; i < n; ++i) {
        if (filter(studenti[i])) {
            akcija(studenti[i]);
        }
    }
}

void ispisi_studenta(Student& s) {
    cout << "Ime: " << s.ime << ", JMBAG: " << s.jmbag
         << ", Godina: " << s.godina_studija
         << ", ECTS: " << s.ects
         << ", Prosjek: " << s.prosjek << endl;
}

void povecaj_godinu(Student& s) {
    s.godina_studija++;
}

int main() {
    Student studenti[] = {
        {"Ana Horvat", "001", 1, 20, 4.0},
        {"Ivan Ivković", "002", 1, 0, 2.5},
        {"Marko Marić", "003", 2, 50, 3.8},
        {"Lucija Lukić", "004", 3, 60, 4.5},
        {"Petar Perić", "005", 2, 45, 3.0}
    };

    size_t n = sizeof(studenti) / sizeof(Student);

    cout << "\n--- Studenti 1. godine koji su položili barem jedan ispit ---\n";
    auto uvjet1 = [](Student& s) { return s.godina_studija == 1 && s.ects > 0; };
    filter_students(studenti, n, ispisi_studenta, uvjet1);

    cout << "\n--- Studenti s prosjekom većim od 3.5 ---\n";
    auto uvjet2 = [](Student& s) { return s.prosjek > 3.5; };
    filter_students(studenti, n, ispisi_studenta, uvjet2);

    cout << "\n--- Povećanje godine studenata koji imaju barem 45 ECTS ---\n";
    auto uvjet3 = [](Student& s) { return s.ects >= 45; };
    filter_students(studenti, n, povecaj_godinu, uvjet3);

    cout << "\n--- Nakon povećanja godine ---\n";
    for (auto& s : studenti) ispisi_studenta(s);

    return 0;
}
